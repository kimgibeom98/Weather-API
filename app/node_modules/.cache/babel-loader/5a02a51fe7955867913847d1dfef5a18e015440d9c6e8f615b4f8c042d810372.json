{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\weatherTS\\\\APP\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled, { css } from \"styled-components\";\nimport ErrorPage from \"./component/ErrorPage\";\nimport Weather from \"./page/Weather\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const WeatherStateContext = /*#__PURE__*/React.createContext(null);\nfunction App() {\n  _s();\n  const [cold, setCold] = useState(false);\n  const [values, setValues] = useState < Array([]);\n  const [weather, setWeather] = useState([]);\n  const [health, setHealth] = useState(false);\n  const [getData, setGetData] = useState(false);\n  useEffect(() => {\n    axios.all([axios.get(`${process.env.REACT_APP_HOST_URL}/weatherinfo`), axios.get(`${process.env.REACT_APP_HOST_URL}/weatherlist`)]).then(axios.spread((res1, res2) => {\n      if (res1.data.length >= 1 && res2.data.length >= 1) {\n        setHealth(true);\n        setCold(res1.data[0].main === 'Clear');\n        setWeather([{\n          idnum: res1.data[0].idnum,\n          temperature: res1.data[0].temperature,\n          main: res1.data[0].main,\n          icon: res1.data[0].icon,\n          speed: res1.data[0].speed,\n          humidity: res1.data[0].humidity,\n          currenttime: res1.data[0].currenttime\n        }]);\n        setValues(res2.data);\n      } else {\n        setHealth(false);\n      }\n      ;\n      setGetData(true);\n    })).catch(err => {\n      setGetData(false);\n      console.log(err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(WeatherStateContext.Provider, {\n    value: {\n      weather,\n      values\n    },\n    children: /*#__PURE__*/_jsxDEV(ContentSection, {\n      cold: cold,\n      children: getData && health ? /*#__PURE__*/_jsxDEV(Weather, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 32\n      }, this) : /*#__PURE__*/_jsxDEV(ErrorPage, {\n        getData: getData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 46\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 7\n  }, this);\n}\n_s(App, \"fjFlBpch0ICO8R6oZ3avXQM2Bwk=\");\n_c = App;\n;\nexport default App;\nconst ContentSection = styled.section`\n  font-family: 'Roboto';\n  width: 600px;\n  align-items: center;\n  justify-content: center;\n  background-color: #325281;\n  margin: 0 auto;\n  padding: 0 20px;\n  box-sizing : border-box;\n  ${props => props.cold && css`\n    background: linear-gradient(#577eaf, #1555ad);\n    `}\n`;\n_c2 = ContentSection;\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"ContentSection\");","map":{"version":3,"names":["React","useState","useEffect","axios","styled","css","ErrorPage","Weather","jsxDEV","_jsxDEV","WeatherStateContext","createContext","App","_s","cold","setCold","values","setValues","Array","weather","setWeather","health","setHealth","getData","setGetData","all","get","process","env","REACT_APP_HOST_URL","then","spread","res1","res2","data","length","main","idnum","temperature","icon","speed","humidity","currenttime","catch","err","console","log","Provider","value","children","ContentSection","fileName","_jsxFileName","lineNumber","columnNumber","_c","section","props","_c2","$RefreshReg$"],"sources":["C:/Users/user/Desktop/weatherTS/APP/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled, { css } from \"styled-components\";\n\nimport ErrorPage from \"./component/ErrorPage\";\nimport Weather from \"./page/Weather\";\nimport {WeatherProps} from \"./models/weather\"\n\nexport const WeatherStateContext = React.createContext<Array<object> | null>(null);\n\nfunction App() {\n  const [cold, setCold] = useState<boolean>(false);\n  const [values, setValues] = useState<Array<WeatherProps>([]);\n  const [weather, setWeather] = useState<Array<WeatherProps>>([]);\n\n  const [health, setHealth] = useState(false);\n  const [getData, setGetData] = useState(false);\n\n\n  useEffect(() => {\n    axios\n      .all([axios.get(`${process.env.REACT_APP_HOST_URL}/weatherinfo`), axios.get(`${process.env.REACT_APP_HOST_URL}/weatherlist`)])\n      .then(\n        axios.spread((res1, res2) => {\n          if (res1.data.length >= 1 && res2.data.length >= 1) {\n            setHealth(true);\n            setCold(res1.data[0].main === 'Clear');\n            setWeather([{\n              idnum: res1.data[0].idnum,\n              temperature: res1.data[0].temperature,\n              main: res1.data[0].main,\n              icon: res1.data[0].icon,\n              speed: res1.data[0].speed,\n              humidity: res1.data[0].humidity,\n              currenttime: res1.data[0].currenttime\n            }]);\n            setValues(res2.data);\n          } else {\n            setHealth(false);\n          };\n          setGetData(true);\n        })\n      )\n      .catch((err) => { setGetData(false); console.log(err) });\n  }, []);\n    return (\n      <WeatherStateContext.Provider value={{weather, values}}>\n        <ContentSection cold={cold}>\n          {getData && health ? <Weather /> : <ErrorPage getData={getData} />}\n        </ContentSection>\n      </WeatherStateContext.Provider>\n    );\n\n};\n\nexport default App;\nconst ContentSection = styled.section<{ cold: boolean }>`\n  font-family: 'Roboto';\n  width: 600px;\n  align-items: center;\n  justify-content: center;\n  background-color: #325281;\n  margin: 0 auto;\n  padding: 0 20px;\n  box-sizing : border-box;\n  ${(props) =>\n    props.cold &&\n    css`\n    background: linear-gradient(#577eaf, #1555ad);\n    `}\n`;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}