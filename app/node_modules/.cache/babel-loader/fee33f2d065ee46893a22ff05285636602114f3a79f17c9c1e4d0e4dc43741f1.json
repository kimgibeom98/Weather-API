{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Documents\\\\workspace\\\\weatherapi-react\\\\APP\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled, { css } from \"styled-components\";\nimport ErrorPage from \"./component/ErrorPage\";\nimport Weather from \"./page/Weather\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const WeatherStateContext = /*#__PURE__*/React.createContext(null);\nfunction App() {\n  _s();\n  const [cold, setCold] = useState(false);\n  const [values, setValues] = useState([]);\n  const [weather, setWeather] = useState([]);\n  const [health, setHealth] = useState(false);\n  const [getData, setGetData] = useState(false);\n  useEffect(() => {\n    axios.all([axios.get('/db.json/weatherinfo'), axios.get('/db.json/weatherlist')]).then(axios.spread((res1, res2) => {\n      if (res1.data.length >= 1 && res2.data.length >= 1) {\n        setHealth(true);\n        setCold(res1.data[0].main === 'Clear');\n        setWeather([{\n          idnum: res1.data[0].idnum,\n          temperature: res1.data[0].temperature,\n          main: res1.data[0].main,\n          icon: res1.data[0].icon,\n          speed: res1.data[0].speed,\n          humidity: res1.data[0].humidity,\n          currenttime: res1.data[0].currenttime,\n          kordate: res1.data[0].kordate,\n          engdate: res1.data[0].engdate\n        }]);\n        setValues(res2.data);\n      } else {\n        setHealth(false);\n      }\n      ;\n      setGetData(true);\n    })).catch(err => {\n      setGetData(false);\n      console.log(err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(WeatherStateContext.Provider, {\n    value: [weather, values],\n    children: /*#__PURE__*/_jsxDEV(ContentSection, {\n      cold: cold,\n      children: getData && health ? /*#__PURE__*/_jsxDEV(Weather, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 30\n      }, this) : /*#__PURE__*/_jsxDEV(ErrorPage, {\n        getData: getData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 44\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"xZrgQrOtwLIepfVzqcimGdKBctg=\");\n_c = App;\n;\nexport default App;\nconst ContentSection = styled.section`\n  font-family: 'Roboto';\n  width: 450px;\n  align-items: center;\n  justify-content: center;\n  background-color: #325281;\n  margin: 0 auto;\n  padding: 0 15px;\n  box-sizing : border-box;\n  ${props => props.cold && css`\n    background: linear-gradient(#769fd3, #1555ad);\n    `}\n`;\n_c2 = ContentSection;\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"ContentSection\");","map":{"version":3,"names":["React","useState","useEffect","axios","styled","css","ErrorPage","Weather","jsxDEV","_jsxDEV","WeatherStateContext","createContext","App","_s","cold","setCold","values","setValues","weather","setWeather","health","setHealth","getData","setGetData","all","get","then","spread","res1","res2","data","length","main","idnum","temperature","icon","speed","humidity","currenttime","kordate","engdate","catch","err","console","log","Provider","value","children","ContentSection","fileName","_jsxFileName","lineNumber","columnNumber","_c","section","props","_c2","$RefreshReg$"],"sources":["C:/Users/PC/Documents/workspace/weatherapi-react/APP/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled, { css } from \"styled-components\";\n\nimport ErrorPage from \"./component/ErrorPage\";\nimport Weather from \"./page/Weather\";\nimport { WeatherProps } from \"./models/weather\"\n\nexport const WeatherStateContext = React.createContext<Array<object> | null>(null);\n\nfunction App() {\n  const [cold, setCold] = useState<boolean>(false);\n  const [values, setValues] = useState([]);\n  const [weather, setWeather] = useState<Array<WeatherProps>>([]);\n\n  const [health, setHealth] = useState(false);\n  const [getData, setGetData] = useState(false);\n\n  useEffect(() => {\n    axios\n      .all([axios.get('/db.json/weatherinfo'), axios.get('/db.json/weatherlist')])\n      .then(\n        axios.spread((res1, res2) => {\n          if (res1.data.length >= 1 && res2.data.length >= 1) {\n            setHealth(true);\n            setCold(res1.data[0].main === 'Clear');\n            setWeather([{\n              idnum: res1.data[0].idnum,\n              temperature: res1.data[0].temperature,\n              main: res1.data[0].main,\n              icon: res1.data[0].icon,\n              speed: res1.data[0].speed,\n              humidity: res1.data[0].humidity,\n              currenttime: res1.data[0].currenttime,\n              kordate: res1.data[0].kordate,\n              engdate: res1.data[0].engdate\n            }]);\n            setValues(res2.data);\n          } else {\n            setHealth(false);\n          };\n          setGetData(true);\n        })\n      )\n      .catch((err) => { setGetData(false); console.log(err) });\n  }, []);\n  return (\n    <WeatherStateContext.Provider value={[weather, values]}>\n      <ContentSection cold={cold}>\n        {getData && health ? <Weather /> : <ErrorPage getData={getData} />}\n      </ContentSection>\n    </WeatherStateContext.Provider>\n  );\n\n};\n\nexport default App;\nconst ContentSection = styled.section<{ cold: boolean }>`\n  font-family: 'Roboto';\n  width: 450px;\n  align-items: center;\n  justify-content: center;\n  background-color: #325281;\n  margin: 0 auto;\n  padding: 0 15px;\n  box-sizing : border-box;\n  ${(props) =>\n    props.cold &&\n    css`\n    background: linear-gradient(#769fd3, #1555ad);\n    `}\n`;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}